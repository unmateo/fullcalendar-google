/*!
FullCalendar v5.3.2
Docs & License: https://fullcalendar.io/
(c) 2020 Adam Shaw
*/
var FullCalendarGoogleCalendar=function(e,r){"use strict";var a=function(){return(a=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++)for(var t in r=arguments[a])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}).apply(this,arguments)},n={googleCalendarApiKey:String},t={googleCalendarApiKey:String,googleCalendarId:String,googleCalendarApiBase:String,extraParams:r.identity},o={parseMeta:function(e){var r=e.googleCalendarId;return!r&&e.url&&(r=function(e){var r;if(/^[^/]+@([^/.]+\.)*(google|googlemail|gmail)\.com$/.test(e))return e;if((r=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^/]*)/.exec(e))||(r=/^https?:\/\/www.google.com\/calendar\/feeds\/([^/]*)/.exec(e)))return decodeURIComponent(r[1]);return null}(e.url)),r?{googleCalendarId:r,googleCalendarApiKey:e.googleCalendarApiKey,googleCalendarApiBase:e.googleCalendarApiBase,extraParams:e.extraParams}:null},fetch:function(e,n,t){var o=e.context,l=o.dateEnv,i=o.options,s=e.eventSource.meta,g=s.googleCalendarApiKey||i.googleCalendarApiKey;if(g){var d=function(e){var r=e.googleCalendarApiBase;r||(r="https://www.googleapis.com/calendar/v3/calendars");return r+"/"+encodeURIComponent(e.googleCalendarId)+"/events"}(s),c=s.extraParams,u="function"==typeof c?c():c,p=function(e,n,t,o){var l,i,s;o.canComputeOffset?(i=o.formatIso(e.start),s=o.formatIso(e.end)):(i=r.addDays(e.start,-1).toISOString(),s=r.addDays(e.end,1).toISOString());l=a(a({},t||{}),{key:n,timeMin:i,timeMax:s,singleEvents:!0,maxResults:9999}),"local"!==o.timeZone&&(l.timeZone=o.timeZone);return l}(e.range,g,u,l);r.requestJson("GET",d,p,(function(e,r){var a,o;e.error?t({message:"Google Calendar API: "+e.error.message,errors:e.error.errors,xhr:r}):n({rawEvents:(a=e.items,o=p.timeZone,a.map((function(e){return function(e,r){var a=e.htmlLink||null;a&&r&&(a=function(e,r){return e.replace(/(\?.*?)?(#|$)/,(function(e,a,n){return(a?a+"&":"?")+r+n}))}(a,"ctz="+r));return{id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:a,location:e.location,description:e.description}}(e,o)}))),xhr:r})}),(function(e,r){t({message:e,xhr:r})}))}else t({message:"Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"})}};var l=r.createPlugin({eventSourceDefs:[o],optionRefiners:n,eventSourceRefiners:t});return r.globalPlugins.push(l),e.default=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar);